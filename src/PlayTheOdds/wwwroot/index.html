<!DOCTYPE html>
<html>

<head>
    <title>Betting Monitor</title>
    <link href="dist/bundle.css" type="text/css" rel="stylesheet" />
</head>

<body>
    <header class="flex-row">
        <div class="time flex-row v-centered">
            <span data-bind="text: clock"></span>
            <small>
            &nbsp;(Last Refresh&nbsp; <span data-bind="text: timeSinceLastUpdate"></span> &nbsp;ago)            
            </small>
        </div>
        <div class="flex-row strechted right spaced">
            <div>
                <a href="http://www.vpgame.com/" target="_blank"><img src="/img/sites/vpgame_64.png" width="24" height="24" />VPGame.com</a>
            </div>
            <div>
                <a href="http://www.hltv.org/" target="_blank"><img src="/img/sites/hltv_64.png" width="24" height="24" />HLTV.org</a>
            </div>
            <div>
                <a href="https://www.reddit.com/r/csgobetting/new/" target="_blank"><img src="/img/sites/reddit_64.png" width="24" height="24" />/r/csgobetting</a>
            </div>
            <div>
                <a href="http://www.gosugamers.net/dota2/gosubet" target="_blank"><img src="/img/sites/gosugamers_64.png" width="24" height="24" />GosuGamers.com</a>
            </div>
            <div>
                <a href="https://www.reddit.com/r/dota2betting/new/" target="_blank"><img src="/img/sites/reddit_64.png" width="24" height="24" />/r/dota2betting</a>
            </div>
        </div>
    </header>

    <section class="filter">

        Filter:

        <!-- ko foreach: {data: Object.keys(filter), as: '_propkey'} -->

        <input type="checkbox" data-bind="checked: $parent.filter[_propkey], click: $parent.applyCategoryFilter($parent)">        <span data-bind="text: _propkey"></span>

        <!-- /ko -->

    </section>

    <section class="matches">

        <!-- ko foreach: filteredMatches -->

        <div class="match">
            <div class="head flex-row v-centered">
                <div class="flex-row spaced">
                    <img data-bind="attr: { src: $root.getImagePath(category) }" width="24" height="24" />
                    <div style="font-size: 1.1em; text-align: center; width: 4em;"><span data-bind="text: startDateFormatted"></span></div>
                </div>
                <div class="flex-row strechted h-centered" style="font-size: 1.1em;">
                    <div class="team-logo"><img data-bind="attr: { src: teamLeft.logoUrl }" height="24" /></div>
                    <div><span data-bind="text: teamLeft.name"></span> vs. <span data-bind="text: teamRight.name"></span></div>
                    <div class="team-logo"><img data-bind="attr: { src: teamRight.logoUrl }" height="24" /></div>
                </div>
                <div class="flex-row right spaced">
                    <div><span data-bind="text: tournamentName"></span></div>
                </div>
            </div>
            <div class="body">

                <!-- ko foreach: filteredWagers -->

                <a  href="#" class="wager" data-bind="css: { highlight: isStartingSoon == true }, attr: { href: wagerLink }" target="_blank">
                    <div class="name">
                        <span data-bind="text: nameWithHandicap"></span>
                    </div>

                    <div class="odd text-right">
                        <span data-bind="text: oddLeft"></span>
                    </div>
                    <div> <span>:</span> </div>
                    <div class="odd">
                        <span data-bind="text: oddRight"></span>
                    </div>
                    <div class="flex-row strechted right">
                        <span data-bind="text: formattedStatus"></span>
                    </div>
                </a>

                <!-- /ko -->

            </div>
        </div>

        <!-- /ko -->

    </section>

    <script src="dist/bundle.js" type="text/javascript"></script>
</body>

</html>